<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>AnfTypeAst (CreeperML.CreeperML.Anf.AnfTypeAst)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.3.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">CreeperML</a> &#x00BB; <a href="../../index.html">CreeperML</a> &#x00BB; <a href="../index.html">Anf</a> &#x00BB; AnfTypeAst</nav><header class="odoc-preamble"><h1>Module <code><span>Anf.AnfTypeAst</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-tlvalue"><a href="#type-tlvalue" class="anchor"></a><code><span><span class="keyword">type</span> tlvalue</span><span> = <a href="../../Indexed_ast/IndexedTypeAst/index.html#type-index_lvalue">Indexed_ast.IndexedTypeAst.index_lvalue</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tliteral"><a href="#type-tliteral" class="anchor"></a><code><span><span class="keyword">type</span> tliteral</span><span> =
  <span><span>(<a href="../../Parser_ast/ParserAst/index.html#type-literal">Parser_ast.ParserAst.literal</a>, <a href="../../Type_ast/TypeAst/index.html#type-ty">Type_ast.TypeAst.ty</a>)</span> <a href="../../Type_ast/TypeAst/index.html#type-typed">Type_ast.TypeAst.typed</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tname"><a href="#type-tname" class="anchor"></a><code><span><span class="keyword">type</span> tname</span><span> = <span><span>(int, <a href="../../Type_ast/TypeAst/index.html#type-ty">Type_ast.TypeAst.ty</a>)</span> <a href="../../Type_ast/TypeAst/index.html#type-typed">Type_ast.TypeAst.typed</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-imm"><a href="#type-imm" class="anchor"></a><code><span><span class="keyword">type</span> imm</span><span> = </span></code><ol><li id="type-imm.ImmVal" class="def variant constructor anchored"><a href="#type-imm.ImmVal" class="anchor"></a><code><span>| </span><span><span class="constructor">ImmVal</span> <span class="keyword">of</span> <a href="#type-tname">tname</a></span></code></li><li id="type-imm.ImmLit" class="def variant constructor anchored"><a href="#type-imm.ImmLit" class="anchor"></a><code><span>| </span><span><span class="constructor">ImmLit</span> <span class="keyword">of</span> <a href="#type-tliteral">tliteral</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Imm is either some result (a, b, c, etc) or literal (1, &quot;2&quot;, etc)</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-anf_expr"><a href="#type-anf_expr" class="anchor"></a><code><span><span class="keyword">type</span> anf_expr</span><span> = </span></code><ol><li id="type-anf_expr.AApply" class="def variant constructor anchored"><a href="#type-anf_expr.AApply" class="anchor"></a><code><span>| </span><span><span class="constructor">AApply</span> <span class="keyword">of</span> <a href="#type-imm">imm</a> * <span><a href="#type-imm">imm</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Application of immidiate function to N immidiate args</p><span class="comment-delim">*)</span></div></li><li id="type-anf_expr.ATuple" class="def variant constructor anchored"><a href="#type-anf_expr.ATuple" class="anchor"></a><code><span>| </span><span><span class="constructor">ATuple</span> <span class="keyword">of</span> <span><a href="#type-imm">imm</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Creation of tuple with N imm elements</p><span class="comment-delim">*)</span></div></li><li id="type-anf_expr.Aite" class="def variant constructor anchored"><a href="#type-anf_expr.Aite" class="anchor"></a><code><span>| </span><span><span class="constructor">Aite</span> <span class="keyword">of</span> <a href="#type-imm">imm</a> * <a href="#type-anf_body">anf_body</a> * <a href="#type-anf_body">anf_body</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>If then else, where if part is pre-calculated, and then and else are contained like blocks for lazy evaluation</p><span class="comment-delim">*)</span></div></li><li id="type-anf_expr.AImm" class="def variant constructor anchored"><a href="#type-anf_expr.AImm" class="anchor"></a><code><span>| </span><span><span class="constructor">AImm</span> <span class="keyword">of</span> <a href="#type-imm">imm</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Immidiate value (var or literal)</p><span class="comment-delim">*)</span></div></li><li id="type-anf_expr.ATupleAccess" class="def variant constructor anchored"><a href="#type-anf_expr.ATupleAccess" class="anchor"></a><code><span>| </span><span><span class="constructor">ATupleAccess</span> <span class="keyword">of</span> <a href="#type-imm">imm</a> * int</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Accessing tuple, tuple is imm, index is int</p><span class="comment-delim">*)</span></div></li><li id="type-anf_expr.AClosure" class="def variant constructor anchored"><a href="#type-anf_expr.AClosure" class="anchor"></a><code><span>| </span><span><span class="constructor">AClosure</span> <span class="keyword">of</span> <a href="#type-tname">tname</a> * <span><a href="#type-imm">imm</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Allocation of closure with function tname and enviroment env</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-anf_body"><a href="#type-anf_body" class="anchor"></a><code><span><span class="keyword">and</span> anf_body</span><span> = </span><span>{</span></code><ol><li id="type-anf_body.lets" class="def record field anchored"><a href="#type-anf_body.lets" class="anchor"></a><code><span>lets : <span><a href="#type-anf_val_binding">anf_val_binding</a> list</span>;</span></code></li><li id="type-anf_body.res" class="def record field anchored"><a href="#type-anf_body.res" class="anchor"></a><code><span>res : <a href="#type-imm">imm</a>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>ANF body: some lets and result of block, used in ite branches and funs</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-anf_val_binding"><a href="#type-anf_val_binding" class="anchor"></a><code><span><span class="keyword">and</span> anf_val_binding</span><span> = </span><span>{</span></code><ol><li id="type-anf_val_binding.name" class="def record field anchored"><a href="#type-anf_val_binding.name" class="anchor"></a><code><span>name : <a href="#type-tname">tname</a>;</span></code></li><li id="type-anf_val_binding.e" class="def record field anchored"><a href="#type-anf_val_binding.e" class="anchor"></a><code><span>e : <a href="#type-anf_expr">anf_expr</a>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>ANF Value binding, usual binding like let x = f 3 a</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-anf_fun_binding"><a href="#type-anf_fun_binding" class="anchor"></a><code><span><span class="keyword">type</span> anf_fun_binding</span><span> = </span><span>{</span></code><ol><li id="type-anf_fun_binding.name" class="def record field anchored"><a href="#type-anf_fun_binding.name" class="anchor"></a><code><span>name : <a href="#type-tname">tname</a>;</span></code></li><li id="type-anf_fun_binding.args" class="def record field anchored"><a href="#type-anf_fun_binding.args" class="anchor"></a><code><span>args : <span><a href="#type-tname">tname</a> list</span>;</span></code></li><li id="type-anf_fun_binding.env" class="def record field anchored"><a href="#type-anf_fun_binding.env" class="anchor"></a><code><span>env : <span><a href="#type-tname">tname</a> list</span>;</span></code></li><li id="type-anf_fun_binding.body" class="def record field anchored"><a href="#type-anf_fun_binding.body" class="anchor"></a><code><span>body : <a href="#type-anf_body">anf_body</a>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>ANF Function binding, let name <code>args</code> = <code>lets</code> res, all in ANF</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-anf_binding"><a href="#type-anf_binding" class="anchor"></a><code><span><span class="keyword">type</span> anf_binding</span><span> = </span></code><ol><li id="type-anf_binding.AnfVal" class="def variant constructor anchored"><a href="#type-anf_binding.AnfVal" class="anchor"></a><code><span>| </span><span><span class="constructor">AnfVal</span> <span class="keyword">of</span> <a href="#type-anf_val_binding">anf_val_binding</a></span></code></li><li id="type-anf_binding.AnfFun" class="def variant constructor anchored"><a href="#type-anf_binding.AnfFun" class="anchor"></a><code><span>| </span><span><span class="constructor">AnfFun</span> <span class="keyword">of</span> <a href="#type-anf_fun_binding">anf_fun_binding</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>obv.</p><span class="comment-delim">*)</span></div></li></ol></div><div class="spec-doc"><p>ANF Binding is either ANF Value or ANF Function</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-anf_program"><a href="#type-anf_program" class="anchor"></a><code><span><span class="keyword">type</span> anf_program</span><span> = <span><a href="#type-anf_binding">anf_binding</a> list</span></span></code></div></div></div></body></html>
